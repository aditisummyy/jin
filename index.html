<!DOCTYPE html>
<html>
<head>
  <title>Flipbook</title>
  <link rel="stylesheet" href="style.css">
</head>

<style>
  body {
  background: #111;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

#flipbook {
  width: 800px;
  height: 500px;
}

.page img {
  width: 100%;
  height: 100%;
}

body {
  margin: 0;
  background: #000;
  overflow: hidden;
}

/* Intro video */
#intro {
  position: fixed;
  inset: 0;
}

#intro video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Button */
#openBtn {
  position: absolute;
  bottom: 60px;
  left: 50%;
  transform: translateX(-50%);
  padding: 14px 32px;
  font-size: 18px;
  border: none;
  cursor: pointer;
  border-radius: 30px;
}

/* Flipbook hidden initially */
#flipbook-container {
  display: none;
  height: 100vh;
  justify-content: center;
  align-items: center;
}

#flipbook {
  width: 800px;
  height: 500px;
}

.page img {
  width: 100%;
  height: 100%;
}

</style>

<body>
<div id = "intro">
<video autoplay loop muted playsinline >
  <source src="TEASER.mp4" type="video/mp4">
</video>

<!-- BACKGROUND AUDIO -->
<audio id="bgAudio" loop>
  <source src="aud\audio.mpeg" type="audio/mpeg">
</audio>

<button id = "openBtn">OPEN INVITATION </button>
</div>

<div id="flipbook">
  <div class="page"><img src="ad\1.png"></div>
  <div class="page"><img src="ad\2.png"></div>
  <div class="page"><img src="ad\3.png"></div>
  <div class="page"><img src="ad\4.png"></div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>
<script >

$("#flipbook").turn({
  width: 800,
  height: 500,
  autoCenter: true
});

$(document).ready(function () {

  $("#openBtn").click(function () {

    // Hide intro
    $("#intro").fadeOut(600);

    // Show flipbook
    $("#flipbook-container").fadeIn(600, function () {
      $("#flipbook").turn({
        width: 800,
        height: 500,
        autoCenter: true
      });
    });

  });

});

$(document).ready(function () {

  const audio = document.getElementById("bgAudio");

  $("#openBtn").click(function () {

    // Start audio BEFORE flipbook (allowed by browser)
    audio.play();

    $("#intro").fadeOut(600);

    $("#flipbook-container").fadeIn(600, function () {

      $("#flipbook").turn({
        width: 800,
        height: 500,
        autoCenter: true,
        when: {
          turned: function (event, page) {
            const totalPages = $("#flipbook").turn("pages");

            // Stop audio on last page
            if (page === totalPages) {
              audio.pause();
              audio.currentTime = 0;
            }
          }
        }
      });

    });

  });

});

</script>

</body>
</html>
