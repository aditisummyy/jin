<!DOCTYPE html>
<html>
<head>
  <title>Flipbook</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- INTRO SCREEN -->
  <div id="intro">
    <video autoplay loop muted playsinline>
      <source src="TEASER.mp4" type="video/mp4">
    </video>

    <!-- BACKGROUND AUDIO -->
    <audio id="bgAudio" loop preload="auto">
      <source src="aud/audio.mpeg" type="audio/mpeg">
    </audio>

    <button id="openBtn">OPEN INVITATION</button>
  </div>

  <!-- FLIPBOOK -->
  <div id="flipbook-container">
    <div id="flipbook">
      <div class="page"><img src="ad/1.png" /></div>
      <div class="page"><img src="ad/2.png" /></div>
      <div class="page"><img src="ad/3.png" /></div>
      <div class="page"><img src="ad/4.png" /></div>
    </div>
  </div>

  <!-- LIBRARIES -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>

  <!-- LOGIC -->
  <script>
    $(document).ready(function () {

      const audio = document.getElementById("bgAudio");

      $("#openBtn").on("click", function () {

        // Start audio (legal + reliable)
        audio.play().catch(() => {});

        // Hide intro
        $("#intro").fadeOut(600);

        // Show flipbook
        $("#flipbook-container")
          .css("display", "flex")
          .hide()
          .fadeIn(600, function () {

            // Initialize flipbook ONLY after visible
            $("#flipbook").turn({
              width: 800,
              height: 500,
              autoCenter: true,
              display: "double",
              elevation: 50,
              gradients: true,
              when: {
                turning: function () {
                  $("#flipbook").css("cursor", "grabbing");
                },
                turned: function () {
                  $("#flipbook").css("cursor", "grab");
                }
              }
            });

          });

      });

    });
  </script>

</body>
</html>


